<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
<meta name="format-detection" content="telephone=no, address=no, email=no">
<title>LAYER POPUP | SCRIPT | PUBLISHING GUIDE</title>
<link rel="stylesheet" href="../../resource/css/common.css?20220913">
<link rel="stylesheet" href="../../resource/css/content.css?20220913">
<link rel="stylesheet" href="../../resource/css/page.css?20220913">
<link rel="stylesheet" href="../../resource/css/publish.css?20220913">
<script src="../../resource/js/jquery-3.2.1.min.js"></script>
<script src="../../resource/js/jquery-ui.min.js"></script>
<script src="../../resource/js/ui.plugin.js"></script>
<script src="../../resource/js/ui.common.js?20220913"></script>
<script src="../../resource/js/publish.plugin.js"></script>
<script src="../../resource/js/publish.common.js"></script>
</head>
<body>
	<div class="guide-wrap">
		<header>
			<h1><i>롯데손해보험</i> SCRIPT <strong>LAYER POPUP</strong> GUIDE</h1>
		</header>
		<article class="guide-container">
			<h1 class="hide">레이어팝업 작업 가이드</h1>

			<!-- ############################## -->
			<!-- [기본정보] -->
			<!-- ############################## -->
			<section class="guide-section">
				<h2 class="guide-tit">기본정보</h2>
				<ul class="txt-bul1">
					<li>레이어팝업은 고유 ID값을 가짐.</li>
					<li>레이어팝업의 디스플레이 및 스타일은 class_open 옵션으로 설정된 클래스를 통해 컨트롤 하며, 기능적인 부분은 스크립트 옵션설정을 통해 컨트롤 함.</li>
				</ul>

				<h3 class="guide-tit2">옵션정보</h3>
				<div class="guide-tbl">
					<table>
						<caption>옵션정보</caption>
						<colgroup><col style="width:10%"/><col style="width:20%"/><col style="width:15%"/><col style="width:25%"/><col style="width:auto"/></colgroup>
						<thead>
							<tr>
								<th scope="col">옵션</th>
								<th scope="col" colspan="2">내용</th>
								<th scope="col">기타</th>
								<th scope="col">참고</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<th scope="row">modal_ajax</th>
								<td>true / false</td>
								<td>default : false</td>
								<td>동적 추가된 레이어팝업 여부</td>
								<td>true 설정시 레이어팝업이 닫히면서 해당 레이어 마크업도 함께 삭제</td>
							</tr>
							<tr>
								<th scope="row">class_open</th>
								<td>'load'</td>
								<td></td>
								<td>레이어 출력시 추가되는 클래스명</td>
								<td></td>
							</tr>
							<tr>
								<th scope="row">selector_close</th>
								<td>'[data-btn="pop-close"]'</td>
								<td></td>
								<td>닫기기능 element 셀렉터</td>
								<td></td>
							</tr>
							<tr>
								<th scope="row">selector_return</th>
								<td>null</td>
								<td></td>
								<td>레이어팝업 닫힌 후 포커스 이동객체</td>
								<td>논리적인 순서가 아닌 강제 이동이 필요할 경우 사용</td>
							</tr>
							<tr>
								<th scope="row">load_display</th>
								<td>true / false</td>
								<td>default : false</td>
								<td>레이어팝업 기본 디스플레이 상태</td>
								<td></td>
							</tr>
							<tr>
								<th scope="row">auto_focus</th>
								<td>true / false</td>
								<td>default : true</td>
								<td>레이어팝업 오픈시 자동포커스 이동 설정 </td>
								<td></td>
							</tr>
							<tr>
								<th scope="row">auto_focus_el</th>
								<td>true / false</td>
								<td>default : true</td>
								<td>레이어팝업 오픈시 닫기 버튼으로 자동포커스 이동여부 설정 </td>
								<td></td>
							</tr>
							<tr>
								<th scope="row">auto_focus_target</th>
								<td>'포커스이동객체'</td>
								<td>default : false</td>
								<td>레이어팝업 오픈시 자동포커스 객체 직접 설정</td>
								<td></td>
							</tr>
							<tr>
								<th scope="row">callback_before</th>
								<td>null</td>
								<td>function()</td>
								<td>콜백함수 : 팝업 오픈 전 실행</td>
								<td></td>
							</tr>
							<tr>
								<th scope="row">callback_load</th>
								<td>null</td>
								<td>function()</td>
								<td>콜백함수 : 팝업 오픈 후 실행</td>
								<td></td>
							</tr>
							<tr>
								<th scope="row">callback_after</th>
								<td>null</td>
								<td>function()</td>
								<td>콜백함수 : 팝업 닫기 시 실행</td>
								<td></td>
							</tr>
						</tbody>
					</table>
				</div>
			</section>

			<!-- ############################## -->
			<!-- [마크업구조] -->
			<!-- ############################## -->
			<section class="guide-section">
				<h2 class="guide-tit">마크업구조</h2>
				<h3 class="guide-tit2">기본 마크업구조</h3>
<pre><code class="html">&lt;!-- 웹에서 스크립트를 통해 레이어호출을 할경우 [data-popmodal="true"] 사용 --&gt;
&lt;div id="레이어팝업ID" class="pop-modal1" data-popmodal="true"&gt;
&lt;article&gt;
&lt;header&gt;
	&lt;h1&gt;레이어팝업제목&lt;/h1&gt;
	&lt;button type="button" data-btn="pop-close" &gt;레이어팝업제목 닫기&lt;/button&gt;
&lt;/header&gt;
&lt;div class="content"&gt;
	&lt;!-- 컨텐츠 --&gt;
&lt;/div&gt;
&lt;/article&gt;
&lt;/div&gt;</code>
</pre>

				<h3 class="guide-tit2">스크립트에서 변환된 마크업</h3>
<pre><code class="html">&lt;!-- load클래스 추가, 접근성보완, 레이어타입에 따라 style추가 --&gt;
&lt;div id="레이어팝업ID" class="pop-modal1 load" role="dialog" aria-modal="true" aria-hidden="false" aria-label="레이어팝업제목" style="추가스타일"&gt;
&lt;article tabindex="0"&gt;
&lt;header&gt;
	&lt;h2&gt;레이어팝업제목&lt;/h2&gt;
	&lt;button type="button" data-btn="pop-close" &gt;레이어팝업제목 닫기&lt;/button&gt;
&lt;/header&gt;
&lt;div class="content"&gt;
&lt;/div&gt;
&lt;/article&gt;
&lt;/div&gt;</code>
</pre>
				<h3 class="guide-tit2">레이어 UI WAI-ARIA 역할 및 속성</h3>
				<div class="guide-tbl">
					<table>
						<caption>레이어 UI WAI-ARIA 역할 및 속성</caption>
						<colgroup><col style="width:10%"/><col style="width:20%"/><col style="width:auto"/></colgroup>
						<thead>
							<tr>
								<th scope="col">구분</th>
								<th scope="col">속성</th>
								<th scope="col">설명</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<th scope="row" rowspan="3">역할</th>
								<td>[role="dialog"]</td>
								<td>컨텐츠형 레이어팝업</td>
							</tr>
							<tr>
								<td>[role="alertdialog"]</td>
								<td>사용자 동의 또는 확인이 필요한 대화상자</td>
							</tr>
							<tr>
								<td>[role="alert"]</td>
								<td>사용자 응답이 필요없는 대화상자 : 예) 로딩, 폼validation 실시간 오류안내 등..</td>
							</tr>
							<tr>
								<th scope="row" rowspan="3">속성</th>
								<td>[aria-modal="true"]</td>
								<td>모달여부</td>
							</tr>
							<tr>
								<td>[aria-hidden="true/false"]</td>
								<td>보조기기 무시여부</td>
							</tr>
							<tr>
								<td>[aria-label]</td>
								<td>레이어팝업 제목</td>
							</tr>
						</tbody>
					</table>
				</div>
			</section>

			<!-- ############################## -->
			<!-- [팝업오픈] -->
			<!-- ############################## -->
			<section class="guide-section">
				<h2 class="guide-tit">팝업오픈</h2>

				<h3 class="guide-tit2">방법1 : 기본호출</h3>
				<p class="txt-bul1">단순컨텐츠성 레이어에 주로 사용</p>
				<div class="guide-area body">
					<a href="#uiPOP1" class="btn-sub1">레이어호출</a>
					<button type="button" class="btn-sub1" aria-controls="uiPOP1">레이어호출</button>
					<span role="button" class="btn-sub1" aria-controls="uiPOP1">레이어호출</span>
				</div>

<pre>
<code class="html">&lt;!-- 호출객체 a[href] 또는 button[aria-controls] 또는 [role="button"][aria-controls] 속성을 호출할 레이어팝업 id로 설정--&gt;
&lt;a href="#uiPOP1" class="btn-com1"&gt;레이어호출&lt;/a&gt;
&lt;button type="button" aria-controls="uiPOP1"&gt;레이어호출&lt;/button&gt;
&lt;span role="button" class="btn-com1" aria-controls="uiPOP1"&gt;레이어호출&lt;/span&gt;

&lt;!-- 레이어팝업샘플 --&gt;
&lt;div id="#uiPOP1" class="pop-modal1" data-popmodal="true"&gt;
..
&lt;/div&gt;</code></pre>
<pre>
<code class="script">&lt;script&gt;
//팝업선언
$plugin.popmodal('#uiPOP1');
&lt;/script&gt;</code></pre>

				<h3 class="guide-tit2">방법2 : 강제호출</h3>
				<p class="txt-bul1">개발에서 중간프로세스상 컨트롤이 필요할 경우 주로 사용</p>
				<div class="guide-area body">
					<a href="javascript:void(0)" class="btn-sub1" data-btn-pop="uiPOP2">레이어호출</a>
					<button type="button" class="btn-sub1" data-btn-pop="uiPOP2">레이어호출</button>
					<span role="button" class="btn-sub1" data-btn-pop="uiPOP2">레이어호출</span>
				</div>
<pre>
<code class="html">&lt;!-- 팝업호출객체--&gt;
&lt;a href="" class="btn-com1" data-btn-pop="#uiPOP2"&gt;레이어호출&lt;/a&gt;
&lt;button type="button" class="btn-com1" data-btn-pop="#uiPOP2"&gt;레이어호출&lt;/button&gt;
&lt;span role="button" class="btn-com1" data-btn-pop="#uiPOP2" tabindex="-1"&gt;레이어호출&lt;/span&gt;

&lt;!-- 레이어팝업샘플 --&gt;
&lt;div id="#uiPOP1" class="pop-modal1" data-popmodal="true"&gt;
..
&lt;/div&gt;</code></pre>
<pre>
<code class="script">&lt;script&gt;
//팝업선언
$plugin.popmodal('#uiPOP2');

//팝업호출 : 이벤트가 일어난 객체 추가세팅
$(document).on('click', '[data-btn-pop="uiPOP2"]', function(e){
	$plugin.popmodal('#uiPOP1').outputOpen(e.target);
});
&lt;/script&gt;</code></pre>

				<h3 class="guide-tit2">방법3 : 기타호출</h3>
				<ul class="txt-bul1">
					<li>초기상태가 오픈상태인 경우 사용가능 : load_display : true로 초기 디스플레이 오픈상태 유지</li>
					<li>포커스 이동이 필요없는 단순 레이어 (예 : 공지팝업) </li>
					<li>호출방법2로 동일 기능 구현가능</li>
				</ul>
<pre>
<code class="html">&lt;!-- 레이어팝업샘플 --&gt;
&lt;div id="uiPOP3" class="pop-notice1"&gt;
&lt;/div&gt;</code></pre>
<pre>
<code class="script">&lt;script&gt;
//팝업선언
$plugin.popmodal('#uiPOP3',{
	overlay : false,
	aria_flag : false,
	load_display : true,
	load_animation :true,
	auto_focus : false
});
&lt;/script&gt;</code>
</pre>
			</section>

			<!-- ############################# -->
			<!-- [레이어팝업 닫기] -->
			<!-- ############################# -->
			<section class="section">
				<h2 class="guide-tit">레이어팝업 닫기</h2>
				<ul class="txt-bul1">
					<li>기본적으로 selector_close 옵션값으로 지정된 객체(default: [data-btn="pop-close"]) 클릭시 닫기기능 실행</li>
					<li>개발단에서 [data-btn="pop-close"] 객체가 아닌 직접호출로 레이어팝업을 닫을 경우 사용</li>
				</ul>
				<div class="guide-area body">
					<button type="button" class="btn-sub1" aria-controls="uiPOP5">닫기기능</button>
				</div>
<pre>
<code class="html">&lt;div id="uiPOP5" class="pop-modal1" data-popmodal="true"&gt;
	&lt;section&gt;
		&lt;header&gt;
			&lt;h1&gt;레이어팝업제목&lt;/h1&gt;
			&lt;!-- 기본닫기버튼 --&gt;
			&lt;button type="button" data-btn="pop-close"&gt;레이어팝업제목 닫기&lt;/button&gt;
			&lt;!-- // --&gt;
		&lt;/header&gt;
		&lt;div class="content"&gt;
			&lt;!-- 추가설정닫기버튼 --&gt;
			&lt;button type="button" class="btn-com1" data-btn-pop="close" &gt;레이어팝업 별도호출 닫기&lt;/button&gt;
			&lt;!-- // --&gt;
		&lt;/div&gt;
	&lt;/section&gt;
&lt;/div&gt;</code></pre>
<pre><code class="script">&lt;script&gt;
//팝업선언
$plugin.popmodal('#uiPOP5');

//닫기 추가실행
$(document).on('click', '#uiPOP5 [data-btn-pop="close"]',function(){
	alert("outputClose에 의해 팝업이 닫힙니다");
	$plugin.popmodal('#uiPOP5').outputClose();
});
&lt;/script&gt;</code>
</pre>
			</section>

			<!-- ############################# -->
			<!-- [콜백함수] -->
			<!-- ############################# -->
			<section class="section">
				<h2 class="guide-tit">콜백함수</h2>

				<h3 class="guide-tit2">팝업 오픈 전 : callback_before</h3>
				<ul class="txt-bul1">
					<li>callback_before 옵션을 통해 레이어호출전 callback함수 제공</li>
					<li>callback_before 함수내 return 값이 true일때만 레이어팝업 출력</li>
				</ul>
				<div class="guide-area body">
					<button type="button" class="btn-sub1" aria-controls="uiPOP4_1">callback_before 샘플</button>
				</div>
<pre><code class="script">&lt;script&gt;
$plugin.popmodal('#uiPOP4_1', {
	callback_before : function(){
		if(confirm("레이어팝업을 출력하시겠습니까?")) return true;
		else return false;
	}
});
&lt;/script&gt;</code>
</pre>
				<h3 class="guide-tit2">팝업 오픈 후 : callback_load</h3>
				<p class="txt-bul1">callback_load 옵션을 통해 레이어팝업이 출력된 후 추가 실행되는 callback함수 제공</p>
				<div class="guide-area body">
					<button type="button" class="btn-sub1" aria-controls="uiPOP4_2">callback_load 샘플</button>
				</div>
<pre><code class="script">&lt;script&gt;
$plugin.popmodal('#uiPOP4_2', {
	callback_load : function(){
		var modal_con = $(this);
		setTimeout(function(){
			modal_con.find('.content p').text("레이어팝업 출력후 내용이 변경되었습니다.");
		},1000);
	}
});
&lt;/script&gt;</code>
</pre>
				<h3 class="guide-tit2">팝업 오픈 후 : callback_after</h3>
				<p class="txt-bul1">callback_after 옵션을 통해 레이어팝업이 닫힐때 실행되는 callback함수 제공</p>
				<div class="guide-area body">
					<button type="button" class="btn-sub1" aria-controls="uiPOP4_3">callback_after 샘플</button>
				</div>
<pre><code class="script">&lt;script&gt;
$plugin.popmodal('#uiPOP4_3', {
	callback_after : function(){
		alert("레이어팝업이 닫힙니다.");
	}
});
&lt;/script&gt;</code>
</pre>

				<h3 class="guide-tit">툴팁</h3>
				<div class="guide-area body">
					<a href="#uiTOOLTIPINFO1" class="icon-com2 ic1" data-btn="tooltip">안내사항</a>
					<a href="#uiTOOLTIPINFO2" class="icon-com2 ic1" data-btn="tooltip">안내사항</a>
				</div>
<pre>
<code class="html">&lt;!-- [호출샘플] --&gt;
&lt;a href="#팝업ID" class="icon-com2 ic1" data-btn="tooltip"&gt;버튼명&lt;/a&gt;

&lt;!-- [툴팁내용] --&gt;
&lt;div id="팝업ID" class="pop-mes4" data-popmodal="true" role="alertdialog"&gt;
	&lt;dl&gt;
		&lt;dt&gt;타이틀&lt;/dt&gt;
		&lt;dd&gt;컨텐츠노출영역&lt;/dd&gt;
		&lt;dd&gt;&lt;button type="button" data-btn="pop-close"&gt;타이틀 닫기&lt;/button&gt;&lt;/dd&gt;
	&lt;/dl&gt;
&lt;/div&gt;</code></pre>
			</section>
			<!-- ############################## -->
		</article>
	</div>
	<!-- ##################################### -->
	<!-- # 샘플레이어1 -->
	<!-- ##################################### -->
	<div id="uiPOP1" class="pop-mes2" data-popmodal="true" role="alertdialog">
		<dl>
			<dt>샘플레이어1</dt>
			<dd>컨텐츠 출력 영역</dd>
			<!-- // -->
			<dd class="area-action">
				<button type="button" class="btn-action" data-btn="pop-close">취소</button>
				<button type="button" class="btn-action c1" data-btn="pop-close">확인</button>
			</dd>
			<!-- // -->
		</dl>
	</div>

	<!-- ##################################### -->
	<!-- # 샘플레이어2 -->
	<!-- ##################################### -->
	<div id="uiPOP2" class="pop-mes2" data-popmodal="true" role="alertdialog">
		<dl>
			<dt>샘플레이어2</dt>
			<dd>컨텐츠 출력 영역</dd>
			<!-- // -->
			<dd class="area-action">
				<button type="button" class="btn-action" data-btn="pop-close">취소</button>
				<button type="button" class="btn-action c1" data-btn="pop-close">확인</button>
			</dd>
			<!-- // -->
		</dl>
	</div>

	<!-- ##################################### -->
	<!-- # 샘플레이어4-1 -->
	<!-- ##################################### -->
	<div id="uiPOP4_1" class="pop-mes2" data-popmodal="true" role="alertdialog">
		<dl>
			<dt>콜백함수 샘플레이어1</dt>
			<dd>
				<strong>callback_before</strong>
				<span>true값이 return 되어야 레이어팝업 출력</span>
			</dd>
			<!-- // -->
			<dd class="area-action">
				<button type="button" class="btn-action" data-btn="pop-close">취소</button>
				<button type="button" class="btn-action c1" data-btn="pop-close">확인</button>
			</dd>
			<!-- // -->
		</dl>
	</div>

	<!-- ##################################### -->
	<!-- # 샘플레이어4-2 -->
	<!-- ##################################### -->
	<div id="uiPOP4_2" class="pop-mes2" data-popmodal="true" role="alertdialog">
		<dl>
			<dt>콜백함수 샘플레이어2</dt>
			<dd>
				<strong>callback_load</strong>
				<span></span>
			</dd>
			<!-- // -->
			<dd class="area-action">
				<button type="button" class="btn-action" data-btn="pop-close">취소</button>
				<button type="button" class="btn-action c1" data-btn="pop-close">확인</button>
			</dd>
			<!-- // -->
		</dl>
	</div>

	<!-- ##################################### -->
	<!-- # 샘플레이어4-3 -->
	<!-- ##################################### -->
	<div id="uiPOP4_3" class="pop-mes2" data-popmodal="true" role="alertdialog">
		<dl>
			<dt>콜백함수 샘플레이어3</dt>
			<dd>
				<strong>callback_after</strong>
			</dd>
			<!-- // -->
			<dd class="area-action">
				<button type="button" class="btn-action" data-btn="pop-close">취소</button>
				<button type="button" class="btn-action c1" data-btn="pop-close">확인</button>
			</dd>
			<!-- // -->
		</dl>
	</div>

	<!-- ##################################### -->
	<!-- # 샘플레이어5 -->
	<!-- ##################################### -->
	<div id="uiPOP5" class="pop-mes2" data-popmodal="true" role="alertdialog">
		<dl>
			<dt>샘플레이어5</dt>
			<dd>레이어팝업 별도 호출 닫기</dd>
			<dd><button type="button" class="btn-com1" data-btn-pop="close" >레이어팝업 별도호출 닫기</button></dd>
		</dl>
	</div>

	<!-- ##################################### -->
	<!-- # 샘플툴팁 -->
	<!-- ##################################### -->
	<div id="uiTOOLTIPINFO1" class="pop-mes4" data-popmodal="true" role="alertdialog">
		<dl>
			<dt>샘플툴팁1</dt>
			<dd>컨텐츠 출력 영역1</dd>
			<dd><button type="button" data-btn="pop-close">샘플툴팁 닫기</button></dd>
		</dl>
	</div>

	<!-- ##################################### -->
	<!-- # 샘플툴팁 -->
	<!-- ##################################### -->
	<div id="uiTOOLTIPINFO2" class="pop-mes4" data-popmodal="true" role="alertdialog">
		<dl>
			<dt class="hide">샘플툴팁2</dt>
			<dd>컨텐츠 출력 영역2</dd>
			<dd><button type="button" data-btn="pop-close">샘플툴팁 닫기</button></dd>
		</dl>
	</div>

	<script>
	//<!--
		//팝업선언
		$plugin.popmodal('#uiPOP1');
		$plugin.popmodal('#uiPOP2');

		$(document).on('click', '[data-btn-pop="uiPOP2"]', function(e){
			$('#uiPOP2').trigger('outputOpen');
		});

		//팝업선언
		$plugin.popmodal('#uiPOP5');

		//닫기 추가실행
		$(document).on('click', '#uiPOP5 [data-btn-pop="close"]',function(){
			alert("outputClose에 의해 팝업이 닫힙니다");
			$('#uiPOP5').trigger('outputClose');
		});

		$plugin.popmodal('#uiPOP4_1', {
			callback_before : function(){
				if(confirm("레이어팝업을 출력하시겠습니까?")) return true;
				else return false;
			}
		});

		$plugin.popmodal('#uiPOP4_2', {
			callback_load : function(){
				var modal_con = $(this);
				setTimeout(function(){
					modal_con.find('dd span').text("레이어팝업 출력후 내용이 변경되었습니다.");
				},1000);
			}
		});
		$plugin.popmodal('#uiPOP4_3', {
			callback_after : function(){
				alert("레이어팝업이 닫힙니다.");
			}
		});
	//-->
	</script>
</body>
</html>